{
  "url": "https://developers.cloudflare.com/support/troubleshooting/general-troubleshooting/gathering-information-for-troubleshooting-sites/#_top",
  "title": "Gathering information for troubleshooting sites - Cloudflare Support docsYesNoYesNo",
  "keyword": "",
  "content": "Skip to content          Cloudflare Docs            Search            Products  Learning  Status  Support  Log in   GitHub X YouTube       Select theme    DarkLightAuto        \n\tStarlightThemeProvider.updatePickers();\n const r=\"starlight-theme\",o=e=>e===\"auto\"||e===\"dark\"||e===\"light\"?e:\"auto\",c=()=>o(typeof localStorage<\"u\"&&localStorage.getItem(r));function n(e){typeof localStorage<\"u\"&&localStorage.setItem(r,e===\"light\"||e===\"dark\"?e:\"\")}const l=()=>matchMedia(\"(prefers-color-scheme: light)\").matches?\"light\":\"dark\";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e===\"auto\"?l():e,n(e)}matchMedia(\"(prefers-color-scheme: light)\").addEventListener(\"change\",()=>{c()===\"auto\"&&t(\"auto\")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector(\"select\")?.addEventListener(\"change\",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define(\"starlight-theme-select\",s); class n extends HTMLElement{constructor(){super();const e=this.querySelector(\"select\");e&&e.addEventListener(\"change\",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)})}}customElements.define(\"starlight-lang-select\",n);           class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector(\"button\"),this.btn.addEventListener(\"click\",()=>this.toggleExpanded());const t=this.closest(\"nav\");t&&t.addEventListener(\"keyup\",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute(\"aria-expanded\",String(t)),document.body.toggleAttribute(\"data-mobile-menu-expanded\",t)}toggleExpanded(){this.setExpanded(this.getAttribute(\"aria-expanded\")!==\"true\")}closeOnEscape(t){t.code===\"Escape\"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define(\"starlight-menu-button\",s);              Support      \n\t\t(() => {\n\t\t\ttry {\n\t\t\t\tif (!matchMedia('(min-width: 50em)').matches) return;\n\t\t\t\t/** @type {HTMLElement | null} */\n\t\t\t\tconst target = document.querySelector('sl-sidebar-state-persist');\n\t\t\t\tconst state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');\n\t\t\t\tif (!target || !state || target.dataset.hash !== state.hash) return;\n\t\t\t\twindow._starlightScrollRestore = state.scroll;\n\t\t\t\tcustomElements.define(\n\t\t\t\t\t'sl-sidebar-restore',\n\t\t\t\t\tclass SidebarRestore extends HTMLElement {\n\t\t\t\t\t\tconnectedCallback() {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst idx = parseInt(this.dataset.index || '');\n\t\t\t\t\t\t\t\tconst details = this.closest('details');\n\t\t\t\t\t\t\t\tif (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];\n\t\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch {}\n\t\t})();\n\t     Overview     Contacting Cloudflare Support        About Cloudflare         Overview        Support - Enterprise Documentation         Overview     Customer Incident Management Policy                Account Management & Billing         Overview        Billing Cloudflare Plans         Overview     Cloudflare Billing Policy     Understanding Cloudflare sales tax         Cannot locate dashboard account     Understanding Billing for Add-on Services            More Dashboard Apps         Overview        Cloudflare Apps         Overview     Managing Cloudflare Apps     Removing Cloudflare Apps            Cloudflare Custom Pages         Overview     Configuring Custom Pages (Error and Challenge)            Cloudflare Stream         Overview     Delivering Videos with Cloudflare                Partners Support         Overview     Reduce data transfer (egress costs) between Azure and Cloudflare            Third-Party Software         Overview        Content Management System (CMS)         Overview     Caching HTML with Drupal     Caching Static HTML with WordPressWooCommerce     Can I use WordPress caching plugins like Super Cache or W3 Total Cache (W3TC) with Cloudflare     Cloudflare and Joomla Recommended First Steps     Cloudflare WordPress Plugin Automatic Cache Management     How do I enable HTTP2 Server Push in WordPress     Improving web security for content management systems like WordPress     Speed Up WordPress and Improve Performance     Using Cloudflare and Drupal Five Easy Recommended Steps     What settings are applied when I click Optimize Cloudflare for WordPress in Cloudflare's WordPress plugin     WordPress Jetpack and Cloudflare     WordPress.com and Cloudflare            e-Commerce         Overview     Caching Static HTML with Magento (Business and Enterprise only)            Forum Software         Overview     Using Cloudflare with various forums            Others         Overview     Configure Cloudflare and Heroku over HTTPS                Troubleshooting         Overview        Cloudflare Errors         Overview     Troubleshooting Cloudflare 10XXX errors     Troubleshooting Cloudflare 1XXX errors     Troubleshooting Cloudflare 5XX errors     Troubleshooting other errors            General Troubleshooting         Overview     Gathering information for troubleshooting sites     Troubleshooting crawl errors            HTTP Status Codes         Overview     1xx Informational     2xx Success     3xx Redirection     4xx Client Error     HTTP Status Codes            Restoring Visitor IPs         Overview     Restoring original visitor IPs            Disruptive Maintenance         Overview               \n\t\t(() => {\n\t\t\tconst scroller = document.getElementById('starlight__sidebar');\n\t\t\tif (!window._starlightScrollRestore || !scroller) return;\n\t\t\tscroller.scrollTop = window._starlightScrollRestore;\n\t\t\tdelete window._starlightScrollRestore;\n\t\t})();\n\t        Products  Learning  Status  Support  Log in   GitHub X YouTube       Select theme    DarkLightAuto        \n\tStarlightThemeProvider.updatePickers();\n            const a=document.getElementById(\"starlight__sidebar\"),n=a?.querySelector(\"sl-sidebar-state-persist\"),o=\"sl-sidebar-state\",i=()=>{let t=[];const e=n?.dataset.hash||\"\";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||\"{}\");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener(\"click\",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest(\"summary\")?.closest(\"details\");if(!e)return;const s=e.querySelector(\"sl-sidebar-restore\"),r=parseInt(s?.dataset.index||\"\");isNaN(r)||l(!e.open,r)});addEventListener(\"visibilitychange\",()=>{document.visibilityState===\"hidden\"&&d()});addEventListener(\"pageHide\",d);    On this page    Overview     Overview     Generate a HAR file     In Chrome     In Firefox     In Microsoft Edge     In Safari     In Mobile        Export Console Log     In Chrome     In Firefox     In Microsoft Edge     In Safari        Capture a NetLog dump     Identify the Cloudflare data center serving your request     Troubleshoot requests with curl     HTTP errors     Performance     Caching     SSL/TLS certificates        Temporarily pause Cloudflare     Perform a traceroute     Run traceroute on Windows     Run traceroute on Linux     Run traceroute on Mac OS        Add the CF-RAY header to your logs     For Apache web servers, add %{CF-Ray}i to LogFormat     For Nginx web servers, add '$http_cf_ray' to log_format        Perform a MTR     How do I use MTR to generate network path report?        Run Packet Captures     Related resources     On this page   Overview     Overview     Generate a HAR file     In Chrome     In Firefox     In Microsoft Edge     In Safari     In Mobile        Export Console Log     In Chrome     In Firefox     In Microsoft Edge     In Safari        Capture a NetLog dump     Identify the Cloudflare data center serving your request     Troubleshoot requests with curl     HTTP errors     Performance     Caching     SSL/TLS certificates        Temporarily pause Cloudflare     Perform a traceroute     Run traceroute on Windows     Run traceroute on Linux     Run traceroute on Mac OS        Add the CF-RAY header to your logs     For Apache web servers, add %{CF-Ray}i to LogFormat     For Nginx web servers, add '$http_cf_ray' to log_format        Perform a MTR     How do I use MTR to generate network path report?        Run Packet Captures     Related resources         Was this helpful?   Yes      No        What did you like?     Accurate    Easy to understand    Solved my problem    Helped me decide to use the product    Other        What went wrong?     Hard to understand    Incorrect information    Missing the information    Other        Thank you for helping improve Cloudflare's documentation!                    Products        …       Support        Troubleshooting        General Troubleshooting        Gathering information for troubleshooting sites        {\"@context\":\"https://schema.org\",\"@type\":\"BreadcrumbList\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"item\":{\"@id\":\"/products/\",\"name\":\"Products\"}},{\"@type\":\"ListItem\",\"position\":2,\"item\":{\"@id\":\"/support/\",\"name\":\"Support\"}},{\"@type\":\"ListItem\",\"position\":3,\"item\":{\"@id\":\"/support/troubleshooting/\",\"name\":\"Troubleshooting\"}},{\"@type\":\"ListItem\",\"position\":4,\"item\":{\"@id\":\"/support/troubleshooting/general-troubleshooting/\",\"name\":\"General Troubleshooting\"}},{\"@type\":\"ListItem\",\"position\":5,\"item\":{\"@id\":\"/support/troubleshooting/general-troubleshooting/gathering-information-for-troubleshooting-sites/\",\"name\":\"Gathering information for troubleshooting sites\"}}]} class t extends HTMLElement{constructor(){super(),this.isManualToggle=!1,this.breadcrumbs=null,this.mainBemClass=null,this.totalWidth=0,this.resizeObserver=null,this.handleTruncatedButtonClick=()=>{this.breadcrumbs?.classList.remove(\"is-truncated\"),this.isManualToggle=!0},this.mainBemClass=this.dataset.mainBemClass||null;const e=this.dataset.id;!(\"truncated\"in this.dataset)||!e||(this.breadcrumbs=document.getElementById(e),this.initializeCrumbs(),this.setupResizeObserver())}initializeCrumbs(){this.breadcrumbs?.querySelectorAll(`.${this.mainBemClass}__crumb`)?.forEach(s=>{this.totalWidth+=s.offsetWidth})}setupResizeObserver(){this.resizeObserver=new ResizeObserver(e=>{e.forEach(s=>{this.checkOverflow(s.target.clientWidth)})}),this.breadcrumbs&&this.resizeObserver.observe(this.breadcrumbs)}connectedCallback(){this.showHiddenCrumbs()}disconnectedCallback(){this.resizeObserver&&this.breadcrumbs&&(this.resizeObserver.unobserve(this.breadcrumbs),this.resizeObserver.disconnect())}toggleTruncated(e){this.breadcrumbs?.classList.toggle(\"is-truncated\",e)}showHiddenCrumbs(){const e=this.breadcrumbs?.querySelector(`.${this.mainBemClass}__truncated-button`);e?.removeEventListener(\"click\",this.handleTruncatedButtonClick),e?.addEventListener(\"click\",this.handleTruncatedButtonClick.bind(this))}checkOverflow(e){const s=this.totalWidth>e&&!this.isManualToggle;this.toggleTruncated(s),s||(this.isManualToggle=!1)}}customElements.get(\"astro-breadcrumbs\")||customElements.define(\"astro-breadcrumbs\",t);Gathering information for troubleshooting sites                             const L=\"starlight-image-zoom-zoomable\",w=window.requestIdleCallback??(y=>setTimeout(y,1));customElements.define(\"starlight-image-zoom\",class f extends HTMLElement{#t;#i=[];#o;#s=this.querySelector(\"template\");#e={image:\"starlight-image-zoom-image\",opened:\"starlight-image-zoom-opened\",source:\"starlight-image-zoom-source\",transition:\"starlight-image-zoom-transition\"};#r=\"zoomTransform\";static#u=!1;constructor(){super();const t=()=>{w(()=>{const e=[...document.querySelectorAll(L)];e.length!==0&&(this.#m(e),document.addEventListener(\"click\",this.#d),window.addEventListener(\"resize\",this.#a))})};window.addEventListener(\"DOMContentLoaded\",t,{once:!0}),document.addEventListener(\"astro:after-preparation\",()=>{document.removeEventListener(\"click\",this.#d),window.removeEventListener(\"resize\",this.#a)},{once:!0}),f.#u||=document.addEventListener(\"astro:after-swap\",t)===void 0}#m(t){for(const e of t){const n=e.querySelector(\"img\");n&&(this.#i.push(n),e.querySelector(\"button\")?.addEventListener(\"click\",i=>{i.stopPropagation(),this.#l(n)}))}}#d=({target:t})=>{if(!(t instanceof HTMLElement&&t.closest(\"figcaption\"))){if(this.#t){this.#n();return}t instanceof HTMLImageElement&&this.#i.includes(t)&&this.#l(t)}};#a=()=>{this.#n(!0)};#c=()=>{this.#n()};#p=t=>{t.preventDefault(),this.#n()};#l(t){if(!this.#s||this.#t)return;this.#o=document.activeElement;const e=document.createElement(\"div\");e.append(this.#s.content.cloneNode(!0));const n=e.querySelector(\"dialog\"),i=n?.querySelector(\"figure\");if(!n||!i)return;const r={overflow:document.body.style.overflow,width:document.body.style.width},d=document.body.clientWidth;document.body.style.overflow=\"hidden\",document.body.style.width=`${d}px`,document.querySelector(\"header\")?.style.setProperty(\"padding-inline-end\",`calc(var(--sl-nav-pad-x) + ${window.innerWidth-d}px)`);const s=this.#f(t);t.classList.add(this.#e.source),s.classList.add(this.#e.image),i.append(s),this.#w(t.getAttribute(\"alt\"),i),document.body.append(e),document.addEventListener(\"wheel\",this.#c,{once:!0}),n.addEventListener(\"cancel\",this.#p),n.showModal(),w(()=>{s.style.transform=\"\",document.body.classList.add(this.#e.opened)}),this.#t={body:r,dialog:n,image:t,zoomedImage:s}}#n(t=!1){if(window.removeEventListener(\"wheel\",this.#c),!this.#t)return;const{zoomedImage:e}=this.#t;e.style.transform=e.dataset[this.#r]??\"\",document.body.classList.add(this.#e.transition),document.body.classList.remove(this.#e.opened);const{matches:n}=window.matchMedia(\"(prefers-reduced-motion: reduce)\");t||n?this.#h():e.addEventListener(\"transitionend\",this.#h,{once:!0})}#h=()=>{if(!this.#t)return;const{dialog:t,image:e}=this.#t;document.body.classList.remove(this.#e.transition),e.classList.remove(this.#e.source),t.parentElement?.remove(),document.body.style.overflow=this.#t.body.overflow,document.body.style.width=this.#t.body.width,document.querySelector(\"header\")?.style.setProperty(\"padding-inline-end\",\"var(--sl-nav-pad-x)\"),this.#t=void 0,this.#o instanceof HTMLElement&&this.#o.focus()};#w(t,e){if(Object.hasOwn(this.dataset,\"hideCaption\")||(t=t?.trim()??\"\",t.length===0))return;const n=document.createElement(\"figcaption\");n.ariaHidden=\"true\",n.textContent=t,e.append(n)}#f(t){const e=t.getBoundingClientRect(),n=this.#y(t),i=n?window.innerWidth:t.naturalWidth,r=n?window.innerHeight:t.naturalHeight,d=Math.min(window.innerWidth,i),s=Math.min(window.innerHeight,r),l=Math.min(d/i,s/r),a=(n?window.innerWidth:t.naturalWidth)*l,c=(n?window.innerHeight:t.naturalHeight)*l,h=(window.innerHeight-c)/2,u=(window.innerWidth-a)/2,o=t.cloneNode(!0);o.removeAttribute(\"id\"),o.style.position=\"absolute\",o.style.width=`${a}px`,o.style.height=`${c}px`,o.style.top=`${h}px`,o.style.left=`${u}px`,o.style.transform=\"\";const m=e.width/a,p=e.height/c,g=(-u+(e.width-a)/2+e.left)/m,v=(-h+(e.height-c)/2+e.top)/p;return o.style.transform=`scale(${m}, ${p}) translate3d(${g}px, ${v}px, 0)`,o.dataset[this.#r]=o.style.transform,t.parentElement?.tagName===\"PICTURE\"&&t.currentSrc&&(o.src=t.currentSrc),o}#y(t){return t.currentSrc.toLowerCase().endsWith(\".svg\")}});  Overview\nIt is important to capture as much information as possible to diagnose an issue and to provide adequate details to Cloudflare support. This article explains how to gather troubleshooting information commonly requested by Cloudflare Support.\nNoteCloudflare support cannot make configuration changes on behalf of\ncustomers due to security and liability concerns.\n\nGenerate a HAR file\nA HTTP Archive (HAR) records all web browser requests including the request and response headers, the body content, and the page load time. Be sure to use Incognito Mode or a Private Browsing window.\nWarningA HAR file can include sensitive details such as passwords, payment\ninformation, and private keys.Remove sensitive information using a HAR Sanitizer ↗.\nSome browsers either require a browser extension or cannot generate a HAR. When installing a browser extension, follow the instructions from the extension provider.\nIn Chrome\n\n\nIn a browser page viewed in Incognito Mode, right-click anywhere and select Inspect Element.\n\n\nThe developer tools either appear at the bottom or left side of the browser. Click the Network tab.\n\n\n\n\n\nCheck Preserve log.\n\n\nClick record.\n\n\n\n\nBrowse to the URL that causes issues. Once the issue is experienced, right click on any of the items within the Network tab and select Save all as HAR with Content.\n\n\n\nAttach the HAR file to your support ticket.\n\nIn Firefox\n\n\nWhile using a Private Window, use the application menu and  select Tools > Web Developer > Network or press Ctrl+Shift+I (Windows/Linux) or Cmd+Option+I (OS X).\n\n\nBrowse to the URL that causes issues.\n\n\nAfter duplicating the issue, right-click and choose Save All As HAR.\n\n\nIn Microsoft Edge\n\n\nIn a Private window, navigate to Developer tools (use F12 as a shortcut) and select the Network tab.\n\n\nBrowse to the URL that causes issues.\n\n\nAfter duplicating the issue, click on Export as HAR followed by Save As....\n\n\nIn Safari\n\n\nIn Safari, ensure a Develop menu appears at the top of a Private Window in the browser window. Otherwise, go to Safari > Preferences > Advanced and select Show Develop Menu in menu bar\n\n\nNavigate to Develop > Show Web Inspector.\n\n\nBrowse to the URL that causes issues.\n\n\nCtrl + click on a resource within Web Inspector and click Export HAR.\n\n\nIn Mobile\nFor Android:\n\n\nEnable USB Debugging mode on your mobile device.\n\n\nGo to chrome://inspect/#devices.\n\n\nIf debugging mode is enabled, you will see your device listed below “Remote Target” like the example below:\n\n\n\n\n\nType in the URL, select Open and inspect to open Chrome’s DevTools.\n\n\nSelect the Network tab in the DevTools window.\n\n\nCheck Preserve log.\n\n\nClick record.\n\n\n\n\nBrowse to the URL that causes issues. Once the issue is experienced, right-click on any of the items within the Network tab and select Save all as HAR with Content.\n\n\n9. Attach the HAR file to your support ticket alongside a screen recording from the affected Samsung device. Instructions on how to do this from Samsung devices can be found in Samsung's documentation here ↗.\n\nFor iPhone:\nRefer to Okta ↗ or Apple's ↗ support article on how to generate a HAR file from an iOS device. Attach the HAR file to your support ticket alongside a screen recording from the affected iOS device. Apple devices now have built-in screen recording functionality ↗.\n\nExport Console Log\nIn certain situations when request is not issued or cancelled by the browser (for example, due to CORS ↗), we need to get JS console log output, in addition to the HAR file, to identify the root cause.\nIn Chrome\n\nGo to the Console tab from the Developer Tools bar.\nGo to the Console Settings and select Preserve Log.\nLeave the console open and perform the steps that reproduce the issue.\nRight click on any of the items within the Console tab and select Save as log file.\nAttach the log file to your support ticket.\n\n\nIn Firefox\n\nGo to the Console tab from the Web Developer Tools bar.\nGo to the Console Settings and select Persist Log and Show Timestamps.\nLeave the console open and perform the steps that reproduce the issue.\nRight click, Select All messages and Export Visible Messages to File.\nAttach the log file to your support ticket.\n\nIn Microsoft Edge\n\nGo to the Console tab from the Developer Tools bar.\nGo to the Console Settings and select Preserve Log.\nLeave the console open and perform the steps that reproduce the issue.\nRight click on any of the items within the Console tab and select Save as log file.\nAttach the log file to your support ticket.\n\nIn Safari\n\nGo to the Console tab from the Web Inspector bar.\nTick the box Preserve Log.\nLeave the console open and perform the steps that reproduce the issue.\nSelect all the messages, right click and Save Selected to a log file.\nAttach the log file to your support ticket.\n\n\nCapture a NetLog dump\nIn some cases, in order to further troubleshoot issues related to protocols (errors such as ERR_QUIC_PROTOCOL_ERROR, ERR_HTTP2_PROTOCOL_ERROR, etc..) our Support team may ask you to provide a NetLog dump ↗.\nWarningYou can only generate a NetLog dump on the Google Chrome, Opera or Microsoft Edge browsers.\n\nOpen a new tab and enter the following depending on the browser you're using:\n\n\nchrome://net-export\nedge://net-export\nopera://net-export\n\n\nClick the Start Logging To Disk button.\nReproduce the network problem in a different tab.\n(the chrome://net-export/, edge://net-export/ or opera://net-export tab needs to stay open otherwise logging will automatically stop)\nClick Stop Logging button.\nAttach the log file to your support ticket.\n\n\nIdentify the Cloudflare data center serving your request\nA map of our data centers ↗ is listed on the Cloudflare status page ↗, sorted by continent.\nThe three-letter code in the data center name is the IATA code ↗ of the nearest major international airport.\nDetermine the Cloudflare data center serving requests for your browser by visiting:\nhttp://``_www.example.com_``/cdn-cgi/trace.\nReplace www.example.com with your domain and hostname.  Note the colo field from the output.\n\nTroubleshoot requests with curl\ncurl ↗ is a command line tool for sending HTTP/HTTPS requests and is useful for troubleshooting:\n\nHTTP/HTTPS Performance\nHTTP Error Responses\nHTTP Headers\nAPIs\nComparing Server/Proxy Responses\nSSL Certificates\n\nNoteIf you are using Windows, you can find more details on how to use curl on Windows in our Making API calls on Windows\n article.\nRun the following command to send a standard HTTP GET request to your website (replace www.example.com with your hostname):\ncurl -svo /dev/null http://www.example.com/\nThis example curl command returns output detailing the HTTP response and request headers but discards the page body output. curl output confirms the HTTP response and whether Cloudflare is currently proxying traffic for the site.\nNoteReview the curl command options ↗ for additional functionality.\nView the sections below for tips on troubleshooting HTTP errors, performance, caching, and SSL/TLS certificates:\nHTTP errors\nWhen troubleshooting HTTP errors in responses from Cloudflare, test whether your origin caused the errors by sending requests directly to your origin web server. To troubleshoot HTTP errors, run a curl directly to your origin web server IP address (bypassing Cloudflare’s proxy):\ncurl -svo /dev/null http://example.com --connect-to ::203.0.113.34\nNoteIf you have multiple origin web servers, test each one to ensure there\nare no response differences. If you observe the issue when connecting\ndirectly to your origin web server, contact your hosting provider for\nassistance.\nPerformance\ncurl measures latency or performance degradation for HTTP/HTTPS requests via the -w or --write-out curl option ↗. The example curl below measures several performance vectors in the request transaction such as duration of the TLS handshake, DNS lookup, redirects, transfers, etc:\ncurl -svo /dev/null https://example.com/ -w \"\\nContent Type: %{content_type} \\\\nHTTP Code: %{http_code} \\\\nHTTP Connect:%{http_connect} \\\\nNumber Connects: %{num_connects} \\\\nNumber Redirects: %{num_redirects} \\\\nRedirect URL: %{redirect_url} \\\\nSize Download: %{size_download} \\\\nSize Upload: %{size_upload} \\\\nSSL Verify: %{ssl_verify_result} \\\\nTime Handshake: %{time_appconnect} \\\\nTime Connect: %{time_connect} \\\\nName Lookup Time: %{time_namelookup} \\\\nTime Pretransfer: %{time_pretransfer} \\\\nTime Redirect: %{time_redirect} \\\\nTime Start Transfer: %{time_starttransfer} \\\\nTime Total: %{time_total} \\\\nEffective URL: %{url_effective}\\n\" 2>&1\nExplanation of this timing output ↗ is found on the Cloudflare blog.\nNoteAs demonstrated in the preceding example, cleaner results are achieved\nby denoting a new line with \\n before each variable. Otherwise, all\nmetrics are displayed together on a single line.\nCaching\ncURL helps review the HTTP response headers that influence caching. In particular, review several HTTP headers when troubleshooting Cloudflare caching:\n\nCF-Cache-Status\nCache-Control/Pragma\nExpires\nLast-Modified\ns-maxage\n\nNoteYou can refer to the Cloudflare Cache documentation for more details.\nSSL/TLS certificates\nReviewing Certificates with curl\nThe following curl command shows the SSL certificate served by Cloudflare during an HTTPS request (replace www.example.com with your hostname):\nTerminal windowcurl -svo /dev/null https://www.example.com/ 2>&1 | egrep -v \"^{.*$|^}.*$|^* http.*$\"\nNote2\\*>&1 | egrep -v \"^{.*$|^}.*$|^\\* http.\\*$\" \\* cleans and\nparses the TLS handshake and certificate information.\nTo display the origin certificate (assuming one is installed), replace 203.0.113.34 below with the actual IP address of your origin web server and replace www.example.com with your domain and hostname:\nTerminal windowcurl -svo /dev/null https://www.example.com --connect-to ::203.0.113.34 2>&1 | egrep -v \"^{.*$|^}.*$|^* http.*$\"\nTesting TLS Versions\nIf troubleshooting browser support or confirming what TLS versions are supported, curl allows you to test a specific TLS version by adding the --tlsv1.X ↗ and --tls-max ↗ options to your curl:\n\n--tlsv1.0 --tls-max 1.0\n--tlsv1.1 --tls-max 1.1\n--tlsv1.2 --tls-max 1.2\n--tlsv1.3 --tls-max 1.3\n\n\nTemporarily pause Cloudflare\nFor more details, refer to Pause Cloudflare.\n\nPerform a traceroute\nTraceroute is a network diagnostic tool that measures the route latency of packets across a network. Most operating systems support the traceroute command. If you experience connectivity issues with your Cloudflare-proxied website and ask Cloudflare Support for assistance, ensure to provide output from a traceroute.\nNoteTimeouts are possible for ping results because Cloudflare limits ping\nrequests.\nReview the instructions below for running traceroute on different operating systems. Replace www.example.com with your domain and hostname in the examples below:\nRun traceroute on Windows\n\n\nOpen the Start menu.\n\n\nClick Run.\n\n\nTo open the command line interface, type cmd and then click OK.\n\n\nAt the command line prompt, type: For IPv4 -\n\n\nTerminal windowtracert www.example.com\nFor IPv6 -\nTerminal windowtracert -6 www.example.com\n\n\nPress Enter.\n\n\nYou can copy the results to save in a file or paste in another program.\n\n\nRun traceroute on Linux\n\n\nOpen a terminal window.\n\n\nAt the command line prompt, type:\n\n\nFor IPv4 -\nTerminal windowtraceroute www.example.com\nFor IPv6 -\nTerminal windowtraceroute -6 www.example.com\n\nYou can copy the results to save in a file or paste in another program.\n\nRun traceroute on Mac OS\n\nOpen the Network Utility application.\nClick the Traceroute tab.\nType the domain or IP address in the appropriate input field and press Trace.\nYou can copy the results to save in a file or paste in another program.\n\nAlternatively, follow the same Linux traceroute instructions above when using the Mac OS terminal program.\n\nAdd the CF-RAY header to your logs\nThe CF-RAY header traces a website request through Cloudflare's network. Provide the CF-RAY of a web request to Cloudflare support when troubleshooting an issue. You can also add CF-RAY to your logs by editing your origin web server configuration with the snippet below that corresponds to your brand of web server:\nFor Apache web servers, add %{CF-Ray}i to LogFormat\nLogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-agent}i\\\" %{CF-Ray}i\" cf_custom\nFor Nginx web servers, add '$http_cf_ray' to log_format\nlog_format cf_custom '$remote_addr - $remote_user [$time_local] ''\"$request\" $status $body_bytes_sent ''\"$http_referer\" \"$http_user_agent\" ''$http_cf_ray';\n\nPerform a MTR\nTraceroute (MTR) is a tool that combines traceroute and ping, which is another common method for testing network connectivity and speed. In addition to the hops along the network path, MTR shows constantly updating information about the latency and packet loss along the route to the destination. This helps in troubleshooting network issues by allowing you to see what’s happening along the path in real-time.\nMTR works by discovering the network path in a similar manner to traceroute, and then regularly sending packets to continue collecting information to provide an updated view into the network’s health and speed.\nLike traceroute, MTR can use ICMP or UDP for outgoing packets but relies on ICMP for return (Type 11: Time Exceeded) packets.\nNoteFor MacOS users, MTR can be installed through homebrew ↗.\nFor Windows users, see WinMTR ↗.\nHow do I use MTR to generate network path report?\nUsing MTR on NIX based machines\nGenerally, we'd use MTR as the following:\nTerminal windowmtr -rw <dest_hostname> e.g.: mtr -rw one.one.one.one\nor with destination IP:\nTerminal windowmtr -rw <dest_IP> e.g.: mtr -rw 1.1.1.1\nPlease refer to this documentation, which explains more about analysing MTR: How to read MTR ↗. ↗\n\nRun Packet Captures\nWhy and when do you need Packet Captures?\nIssues that happen at the layers 3/4 occur before requests reaching Cloudflare's logging system, so they do not show up in the HTTP logs. Therefore, troubleshooting issues related to connection resets, packet loss or SSL handshake failures can be tricky without a deep investigation at the packet level.\nSome HTTP errors generated by Cloudflare, such as 520s ↗, 524s ↗ and 525s ↗, show underlying issues at layers 3/4, and might require a packet capture for further investigation.\nHow to Run a Packet Capture\nWarningPlease be aware, if you transmit any sensitive information while a\npacket capture is running, it will be recorded.\nCloudflare suggests Wireshark ↗ for running packet captures. For instructions on how to use the tcpdump command line, refer to this ↗ article.\n\nClose all programs/browser tabs that could be sending data in the background to avoid having to use a lot of display filters later.\nCreate your Wireshark capture filter (refer to this ↗ article for more information).\nSelect the appropriate interface (e.g. Wi-Fi: en0). If you're not sure which interface to use, Wireshark provides an I/O graph of each interface to give you a hint.\nClick the blue shark fin icon in the top left-hand corner to start your packet capture.\nReproduce the issue while running capture.\nClick the red square icon in the top left-hand corner to stop your packet capture.\nSave as a .pcap file and attach it to your support ticket.\n\n\nRelated resources\n\nContacting Cloudflare Support\nTroubleshooting Cloudflare HTTP 5XX errors ↗\nDiagnosing network issues with MTR and traceroute ↗\ncURL command line tool ↗\n     Was this helpful?   Yes      No        What did you like?     Accurate    Easy to understand    Solved my problem    Helped me decide to use the product    Other        What went wrong?     Hard to understand    Incorrect information    Missing the information    Other        Thank you for helping improve Cloudflare's documentation!    class r extends HTMLElement{connectedCallback(){const d={'[data-icon=\"material-symbols:thumb-up-outline-rounded\"]':\"#feedback-yes\",'[data-icon=\"material-symbols:thumb-down-outline-rounded\"]':\"#feedback-no\"},s=this.querySelector(\"#feedback-thumbs\"),o=this.querySelector(\"#feedback-thanks\");if(!(!s||!o))for(const[i,n]of Object.entries(d))this.querySelector(i)?.addEventListener(\"click\",()=>{s.classList.add(\"hidden\");const e=this.querySelector(n);if(!e)return;e.classList.remove(\"hidden\");const a=e.querySelector(\"form\");a&&a.addEventListener(\"submit\",async c=>{c.preventDefault();const t=new FormData(c.target);t.set(\"page\",window.location.pathname),t.set(\"option\",n.split(\"-\")[1]),fetch(\"https://feedback.developers.cloudflare.com\",{method:\"POST\",body:t}),e.classList.add(\"hidden\"),o.classList.remove(\"hidden\")})})}}customElements.define(\"feedback-prompt\",r);       Edit page          Cloudflare DashboardDiscordCommunityLearning CenterSupport Portal\n\t\t\t\tfunction OptanonWrapper() {}\n\t\t\t  Cookie Settings",
  "custom_id": "kvwLo4G2dRp0gxQWk2chH14Rp4TMwiW5eZ4Xz3kZpqXeLC7sDjYEPybZLTUDkoNt"
}